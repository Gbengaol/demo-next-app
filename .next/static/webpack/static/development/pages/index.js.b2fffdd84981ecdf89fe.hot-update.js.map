{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.b2fffdd84981ecdf89fe.hot-update.js","sources":["webpack:///./components/prices.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport useData from \"../custom-hooks/useData\";\r\nimport Axios from \"axios\";\r\n\r\nconst prices = () => {\r\n  const [state, setState] = useState({\r\n    res: [],\r\n  });\r\n\r\n  const { data, isError } = useData(\r\n    \"https://jsonplaceholder.typicode.com/posts\"\r\n  );\r\n  const deleteItem = async (item) => {\r\n    try {\r\n      const data = await Axios.delete(\r\n        `https://jsonplaceholder.typicode.com/users/${item}`\r\n      );\r\n      if (data.status === 200) {\r\n        const newResult = state.res.filter((res) => {\r\n          return res.id !== item;\r\n        });\r\n        setState({\r\n          ...state,\r\n          res: newResult,\r\n        });\r\n        return;\r\n      }\r\n      return alert(\"Unable to delete\");\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n  if (!state.res.length && data) {\r\n    setState({\r\n      ...state,\r\n      res: data,\r\n    });\r\n  }\r\n  if (isError) return <div>failed to load</div>;\r\n  if (!data) return <div>loading...</div>;\r\n  return (\r\n    <div className=\"card mb-5\">\r\n      {state.res.map((each) => {\r\n        return (\r\n          <div\r\n            className=\"card-header d-flex justify-content-between m-2\"\r\n            key={each.id}\r\n          >\r\n            <h5>{each.title}</h5>\r\n            <div>\r\n              <button\r\n                className=\"btn btn-danger mr-2\"\r\n                onClick={() => deleteItem(each.id)}\r\n              >\r\n                X\r\n              </button>\r\n              <Link href=\"/index/[id]\">\r\n                <a>\r\n                  <button className=\"btn btn-secondary\">View</button>\r\n                </a>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default prices;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AADA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAOA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAEA;AAFA;AATA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAiBA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAmBA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAGA;AACA;AACA;;;;A","sourceRoot":""}